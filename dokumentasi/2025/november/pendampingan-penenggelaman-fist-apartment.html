<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penenggelaman Modul Rumah Ikan - Dinas Perikanan Situbondo</title>
    <meta name="description" content="Program konservasi perairan melalui penenggelaman 15 unit modul rumah ikan (artificial reef) di Desa Kalianget dan Pasir Putih, Kabupaten Situbondo. Dilaksanakan pada 20 & 26 November 2025 oleh Dinas Kelautan dan Perikanan Provinsi Jatim bersama Dinas Peternakan dan Perikanan Kabupaten Situbondo.">
    
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- jsPDF untuk generate PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        :root {
            --eco-green: #27ae60;
            --conservation-teal: #1abc9c;
            --secondary-blue: #3498db;
            --warning-orange: #f39c12;
            --success-green: #2ecc71;
            --text-dark: #2c3e50;
            --text-gray: #7f8c8d;
            --light-gray: #f8f9fa;
            --white: #ffffff;
            --error-red: #e74c3c;
            --warning-yellow: #f1c40f;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-gray);
            line-height: 1.7;
            background-color: var(--light-gray);
            position: relative;
            min-height: 100vh;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            color: var(--text-dark);
            font-weight: 600;
        }

        /* ===== NAVBAR ===== */
        .navbar {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .navbar-brand img {
            height: 48px;
            width: auto;
        }

        .brand-text h5 {
            color: var(--conservation-teal);
            margin: 0;
            font-size: 1.1rem;
            font-weight: 700;
        }

        .brand-text span {
            font-size: 0.75rem;
            color: var(--secondary-blue);
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .nav-link {
            color: var(--text-dark) !important;
            font-weight: 500;
            padding: 0.5rem 1rem !important;
            margin: 0 0.25rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-link:hover {
            color: var(--conservation-teal) !important;
            background-color: rgba(26, 188, 156, 0.1);
        }

        .nav-link.active {
            color: var(--conservation-teal) !important;
            background-color: rgba(26, 188, 156, 0.1);
        }

        /* ===== HERO SECTION ===== */
        .hero-section {
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.95), rgba(39, 174, 96, 0.85)),
                        url('https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0 60px;
            margin-top: 76px;
            position: relative;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to bottom, transparent, var(--light-gray));
        }

        .hero-section h1 {
            color: white;
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .badge-category {
            background: rgba(255, 255, 255, 0.25);
            color: white;
            padding: 8px 24px;
            border-radius: 50px;
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* ===== INFO CARDS ===== */
        .info-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: center;
            transition: transform 0.3s ease;
            height: 100%;
        }

        .info-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.25);
        }

        .info-icon {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            color: white;
            font-size: 1.5rem;
        }

        /* ===== CONTENT SECTIONS ===== */
        .section-title {
            position: relative;
            padding-bottom: 15px;
            margin-bottom: 30px;
            color: var(--conservation-teal);
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--eco-green), var(--conservation-teal));
            border-radius: 3px;
        }

        .content-box {
            background: white;
            border-radius: 16px;
            padding: 40px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06);
            margin-bottom: 40px;
            border: 1px solid #e5e7eb;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .content-box:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(26, 188, 156, 0.1);
        }

        .description-text {
            font-size: 1.05rem;
            line-height: 1.8;
        }

        .highlight-box {
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.05), rgba(39, 174, 96, 0.05));
            border-left: 4px solid var(--conservation-teal);
            padding: 25px;
            border-radius: 12px;
            margin: 30px 0;
        }

        .highlight-box h5 {
            color: var(--conservation-teal);
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        /* ===== LOCATION CARDS ===== */
        .location-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            height: 100%;
        }

        .location-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .location-image {
            position: relative;
            height: 200px;
            overflow: hidden;
        }

        .location-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .location-card:hover .location-image img {
            transform: scale(1.05);
        }

        .location-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--eco-green);
            color: white;
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .location-card h4 {
            padding: 20px 20px 10px;
            color: var(--text-dark);
            margin: 0;
        }

        .location-card p {
            padding: 0 20px 20px;
            margin: 0;
        }

        /* ===== PARTICIPANTS SECTION ===== */
        .participants-section {
            padding: 80px 0;
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.05), rgba(39, 174, 96, 0.05));
        }

        .participant-item {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            height: 100%;
        }

        .participant-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .participant-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--eco-green), var(--conservation-teal));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 1.8rem;
        }

        /* ===== BENEFITS SECTION ===== */
        .benefits-section {
            padding: 80px 0;
            background: white;
        }

        .benefit-card {
            text-align: center;
            padding: 40px 30px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            height: 100%;
            border: 1px solid #e5e7eb;
            transition: all 0.3s ease;
        }

        .benefit-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            border-color: var(--conservation-teal);
        }

        .benefit-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--eco-green), var(--conservation-teal));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            color: white;
            font-size: 2rem;
        }

        /* ===== TIMELINE SECTION ===== */
        .timeline-section {
            padding: 80px 0;
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.05), rgba(39, 174, 96, 0.05));
        }

        .timeline {
            position: relative;
            padding-left: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--eco-green), var(--conservation-teal));
        }

        .timeline-item {
            position: relative;
            margin-bottom: 40px;
            padding-left: 30px;
        }

        .timeline-date {
            position: absolute;
            left: -55px;
            top: 0;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--eco-green), var(--conservation-teal));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.3);
        }

        .timeline-content {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--conservation-teal);
        }

        /* ===== GALLERY SECTION ===== */
        .gallery-section {
            padding: 80px 0;
            background: white;
        }

        .gallery-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            height: 280px;
            margin-bottom: 25px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: all 0.4s ease;
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.7), transparent);
            display: flex;
            align-items: flex-end;
            padding: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .gallery-caption {
            color: white;
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-caption {
            transform: translateY(0);
        }

        /* ===== ACTION BUTTONS SECTION ===== */
        .action-buttons {
            padding: 60px 0;
            background: linear-gradient(135deg, rgba(26, 188, 156, 0.05), rgba(39, 174, 96, 0.05));
        }

        .btn-download {
            background: linear-gradient(135deg, var(--conservation-teal), var(--eco-green));
            color: white;
            padding: 16px 36px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            cursor: pointer;
            font-size: 1.05rem;
            box-shadow: 0 6px 15px rgba(26, 188, 156, 0.2);
            position: relative;
            overflow: hidden;
        }

        .btn-download::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.7s ease;
        }

        .btn-download:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(26, 188, 156, 0.3);
            color: white;
        }

        .btn-download:hover::before {
            left: 100%;
        }

        .btn-share {
            background: white;
            color: var(--conservation-teal);
            padding: 16px 36px;
            border-radius: 12px;
            font-weight: 600;
            border: 2px solid var(--conservation-teal);
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            cursor: pointer;
            font-size: 1.05rem;
            box-shadow: 0 6px 15px rgba(26, 188, 156, 0.1);
            position: relative;
            overflow: hidden;
        }

        .btn-share::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: var(--conservation-teal);
            transition: width 0.3s ease;
            z-index: 0;
        }

        .btn-share:hover {
            background: var(--conservation-teal);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(26, 188, 156, 0.2);
        }

        .btn-share:hover::before {
            width: 100%;
        }

        .btn-share span {
            position: relative;
            z-index: 1;
        }

        /* ===== FOOTER ===== */
        .footer {
            background: var(--text-dark);
            color: white;
            padding: 80px 0 30px;
            position: relative;
            width: 100%;
            margin-top: 60px;
        }

        .footer h5 {
            color: white;
            margin-bottom: 25px;
            font-size: 1.2rem;
            position: relative;
            display: inline-block;
        }

        .footer h5::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 40px;
            height: 3px;
            background: var(--conservation-teal);
            border-radius: 3px;
        }

        .footer-links a {
            color: #d1d5db;
            text-decoration: none;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s ease;
            padding: 5px 0;
        }

        .footer-links a:hover {
            color: white;
            padding-left: 10px;
        }

        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            margin-right: 10px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-icons a:hover {
            background: var(--conservation-teal);
            transform: translateY(-3px);
        }

        /* ===== SHARE MODAL ===== */
        .share-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
        }

        .share-modal-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
        }

        .share-buttons {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }

        .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 15px;
            border-radius: 12px;
            background: var(--light-gray);
            border: none;
            transition: all 0.3s ease;
            cursor: pointer;
            width: 100%;
            font-weight: 600;
            font-size: 1rem;
        }

        .share-btn:hover {
            background: rgba(26, 188, 156, 0.1);
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
        }

        .share-btn i {
            font-size: 20px;
        }

        .share-btn.whatsapp {
            background: #25D366;
            color: white;
        }

        .share-btn.copy {
            background: var(--conservation-teal);
            color: white;
        }

        /* ===== LOADING OVERLAY ===== */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 99999;
            justify-content: center;
            align-items: center;
        }

        .loading-spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--conservation-teal);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ===== PDF PREVIEW MODAL ===== */
        .pdf-preview-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 99999;
            justify-content: center;
            align-items: center;
        }

        .pdf-preview-content {
            background: white;
            padding: 30px;
            border-radius: 16px;
            max-width: 800px;
            width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .pdf-preview {
            background: white;
            padding: 40px;
            border: 1px solid #ddd;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            font-family: 'Times New Roman', Times, serif;
            line-height: 1.6;
            color: #333;
        }

        .qr-code {
            width: 80px;
            height: 80px;
            margin: 0 auto;
            padding: 5px;
            background: white;
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* ===== SECURITY MODAL (NEW) ===== */
        .security-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 99999;
            justify-content: center;
            align-items: center;
        }

        .security-modal-content {
            background: white;
            padding: 35px;
            border-radius: 16px;
            max-width: 450px;
            width: 90%;
            text-align: center;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .security-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--warning-yellow), var(--warning-orange));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 1.8rem;
        }

        .password-input-group {
            position: relative;
            margin: 25px 0;
        }

        .password-input {
            width: 100%;
            padding: 14px 20px;
            padding-right: 50px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: 'Courier New', monospace;
            letter-spacing: 2px;
        }

        .password-input:focus {
            outline: none;
            border-color: var(--conservation-teal);
            box-shadow: 0 0 0 3px rgba(26, 188, 156, 0.1);
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: var(--text-gray);
            cursor: pointer;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .password-toggle:hover {
            color: var(--conservation-teal);
        }

        .security-note {
            background: #fff9e6;
            border-left: 4px solid var(--warning-yellow);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
            font-size: 0.9rem;
        }

        .security-note i {
            color: var(--warning-yellow);
            margin-right: 8px;
        }

        .error-message {
            color: var(--error-red);
            background: #fee;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 15px;
            display: none;
            align-items: center;
            justify-content: center;
            gap: 8px;
            animation: shake 0.5s ease;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .btn-security {
            background: linear-gradient(135deg, var(--conservation-teal), var(--eco-green));
            color: white;
            padding: 14px 30px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            margin-top: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-security:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(26, 188, 156, 0.3);
        }

        .btn-security-secondary {
            background: #f8f9fa;
            color: var(--text-dark);
            padding: 14px 30px;
            border-radius: 12px;
            font-weight: 600;
            border: 2px solid #e5e7eb;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 1rem;
            width: 100%;
            margin-top: 10px;
        }

        .btn-security-secondary:hover {
            background: #e9ecef;
            border-color: var(--text-gray);
        }

        .hint-text {
            font-size: 0.85rem;
            color: var(--text-gray);
            margin-top: 10px;
            text-align: left;
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid var(--secondary-blue);
        }

        .hint-text strong {
            color: var(--text-dark);
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .hero-section h1 {
                font-size: 2.2rem;
            }
            
            .content-box {
                padding: 30px;
            }
            
            .footer {
                padding: 60px 0 30px;
            }
        }

        @media (max-width: 768px) {
            .hero-section {
                padding: 80px 0 40px;
                margin-top: 66px;
            }
            
            .hero-section h1 {
                font-size: 1.8rem;
            }
            
            .content-box {
                padding: 25px;
            }
            
            .gallery-item {
                height: 220px;
            }
            
            .btn-download, .btn-share {
                padding: 14px 28px;
                font-size: 1rem;
            }
            
            .footer {
                padding: 50px 0 20px;
            }
            
            .security-modal-content {
                padding: 25px;
            }
        }

        @media (max-width: 576px) {
            .hero-section h1 {
                font-size: 1.6rem;
            }
            
            .badge-category {
                font-size: 0.8rem;
                padding: 6px 18px;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .action-buttons .btn-download,
            .action-buttons .btn-share {
                width: 100%;
                justify-content: center;
                margin-bottom: 10px;
                padding: 14px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <div class="share-modal-content">
            <h3 class="section-title">Bagikan Kegiatan Ini</h3>
            <p>Pilih opsi untuk membagikan informasi penenggelaman modul rumah ikan:</p>
            <div class="share-buttons">
                <button class="share-btn whatsapp" onclick="shareToWhatsApp()">
                    <i class="fab fa-whatsapp"></i>
                    <span>Bagikan ke WhatsApp</span>
                </button>
                <button class="share-btn copy" onclick="copyLink()">
                    <i class="fas fa-copy"></i>
                    <span>Salin Link</span>
                </button>
            </div>
            <button class="btn btn-secondary mt-4 w-100" onclick="closeShareModal()" style="padding: 10px; border-radius: 10px;">Tutup</button>
        </div>
    </div>

    <!-- PDF Preview Modal -->
    <div class="pdf-preview-modal" id="pdfPreviewModal">
        <div class="pdf-preview-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h3 class="section-title mb-0">Pratinjau Laporan PDF</h3>
                <button class="btn-close" onclick="closePdfPreview()"></button>
            </div>
            <div class="pdf-preview" id="pdfPreviewContent">
                <!-- PDF content will be generated here -->
            </div>
            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-secondary" onclick="closePdfPreview()" style="padding: 10px 24px; border-radius: 10px;">Tutup</button>
                <button class="btn btn-primary" onclick="downloadPDF()" style="background: linear-gradient(135deg, var(--conservation-teal), var(--eco-green)); border: none; padding: 10px 24px; border-radius: 10px;">Download PDF</button>
            </div>
        </div>
    </div>

    <!-- Security Modal (NEW) -->
    <div class="security-modal" id="securityModal">
        <div class="security-modal-content">
            <div class="security-icon">
                <i class="fas fa-shield-alt"></i>
            </div>
            
            <h3 class="section-title mb-3">Otorisasi Keamanan</h3>
            
            <p class="text-muted mb-3">
                Anda telah memasuki hak akses yang membutuhkan otorisasi khusus dan merupakan tindakan untuk mencetak dokumen pelaporan resmi. Untuk melanjutkan proses download, masukkan kode keamanan yang sesuai.
            </p>
            
            <div class="security-note">
                <i class="fas fa-exclamation-circle"></i>
                <strong>Perhatian:</strong> Kode keamanan bersifat rahasia dan hanya dapat diperoleh melalui otorisasi resmi dari administrator sistem.
            </div>
            
            <div class="password-input-group">
                <input type="password" id="securityCode" class="password-input" placeholder="Masukkan kode keamanan" maxlength="8">
                <button type="button" class="password-toggle" id="togglePassword">
                    <i class="fas fa-eye"></i>
                </button>
            </div>
            
            <div class="hint-text">
                <i class="fas fa-lightbulb"></i> 
                <strong>Informasi:</strong> Untuk mendapatkan kode keamanan, silakan hubungi administrator melalui kontak resmi yang tertera di bagian footer website.
            </div>
            
            <div class="error-message" id="errorMessage">
                <i class="fas fa-times-circle"></i>
                <span id="errorText">Kode keamanan tidak valid!</span>
            </div>
            
            <button class="btn-security" onclick="verifySecurityCode()">
                <i class="fas fa-check-circle"></i>
                Verifikasi & Lanjutkan Download
            </button>
            
            <button class="btn-security-secondary" onclick="closeSecurityModal()">
                <i class="fas fa-times"></i>
                Batalkan
            </button>
            
            <div class="mt-4">
                <small class="text-muted">
                    <i class="fas fa-info-circle"></i>
                    Proses ini diperlukan untuk melindungi dokumen resmi dari akses yang tidak sah.
                </small>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="https://www.dinasperikanansitubondo.com">
                <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/LOGO%20KABUPATEN%20SITUBONDO.png" alt="Logo Kabupaten Situbondo">
                <div class="brand-text">
                    <h5>DINAS PERIKANAN</h5>
                    <span>KABUPATEN SITUBONDO</span>
                </div>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.dinasperikanansitubondo.com">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#">Dokumentasi</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.dinasperikanansitubondo.com/pelatihan">Pelatihan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="https://www.dinasperikanansitubondo.com/simata">SIMATA</a>
                    </li>
                    <li class="nav-item ms-2">
                        <a href="https://www.dinasperikanansitubondo.com#aduan" class="btn btn-primary" style="background: linear-gradient(135deg, var(--eco-green), var(--conservation-teal)); border: none; padding: 10px 24px; border-radius: 10px;">
                            <i class="fas fa-phone-alt me-2"></i>Hubungi Kami
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <span class="badge-category">
                        <i class="fas fa-fish"></i> PROGRAM KONSERVASI PERAIRAN
                    </span>
                    <h1 data-aos="fade-up">Penenggelaman Modul Rumah Ikan: Upaya Pelestarian Ekosistem Laut Situbondo</h1>
                    <p class="lead mb-5" data-aos="fade-up" data-aos-delay="100">
                        Program konservasi sumber daya kelautan melalui penenggelaman modul rumah ikan (artificial reef) untuk meningkatkan produktivitas perairan dan mendukung perikanan berkelanjutan di Kabupaten Situbondo.
                    </p>
                    
                    <div class="row g-4" data-aos="fade-up" data-aos-delay="200">
                        <div class="col-md-4">
                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-2">Waktu Pelaksanaan</h5>
                                    <p class="text-white mb-0">20 & 26 November 2025</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-2">Lokasi Penenggelaman</h5>
                                    <p class="text-white mb-0">Desa Kalianget & Pasir Putih</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="info-card">
                                <div class="info-icon">
                                    <i class="fas fa-cube"></i>
                                </div>
                                <div>
                                    <h5 class="text-white mb-2">Jumlah Modul</h5>
                                    <p class="text-white mb-0">15 Unit Rumah Ikan</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <section class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <!-- Pendahuluan -->
                    <div class="content-box" data-aos="fade-up">
                        <h2 class="section-title">Program Strategis Konservasi Perairan</h2>
                        
                        <div class="description-text">
                            <p>Upaya pelestarian sumber daya ikan dan peningkatan produktivitas perairan terus dilakukan melalui berbagai program strategis. Salah satu upaya tersebut adalah pemasangan atau penenggelaman modul rumah ikan (artificial reef) sebagai habitat buatan untuk mendukung ekosistem laut, meningkatkan populasi ikan, serta mendukung kegiatan perikanan berkelanjutan.</p>
                            
                            <div class="highlight-box">
                                <h5><i class="fas fa-bullseye"></i> Tujuan Utama Program</h5>
                                <p>Kegiatan ini bertujuan untuk mengurangi tekanan penangkapan di wilayah tangkap tradisional, mendukung program konservasi sumber daya kelautan, serta menciptakan habitat baru bagi biota laut untuk berkembang biak dan mencari makan. Program ini merupakan bentuk komitmen pemerintah dalam menjaga keberlanjutan ekosistem laut Situbondo.</p>
                            </div>
                            
                            <p>Penenggelaman modul rumah ikan dilakukan secara bertahap di titik-titik strategis yang telah melalui kajian ekologi dan oseanografi. Setiap modul dirancang khusus untuk menciptakan struktur tiga dimensi yang menyerupai habitat alami ikan, sehingga dapat menarik berbagai jenis biota laut untuk menetap dan berkembang biak.</p>
                            
                            <p>Kegiatan ini merupakan hasil sinergi antara <strong>Dinas Kelautan dan Perikanan Provinsi Jawa Timur</strong>, <strong>Dinas Peternakan dan Perikanan Kabupaten Situbondo</strong>, bersama dengan <strong>FORKOPIMKA</strong> setempat, serta melibatkan aktif masyarakat nelayan dan kelompok pengawas masyarakat (Pokmaswas).</p>
                        </div>
                    </div>
                    
                    <!-- Lokasi Kegiatan -->
                    <div class="content-box" data-aos="fade-up" data-aos-delay="100">
                        <h2 class="section-title">Lokasi dan Waktu Penenggelaman</h2>
                        
                        <div class="description-text">
                            <p>Kegiatan penenggelaman modul rumah ikan dilaksanakan di dua lokasi strategis di wilayah pesisir Kabupaten Situbondo, yang dipilih berdasarkan kajian ekologi dan sosial ekonomi masyarakat setempat.</p>
                            
                            <div class="row g-4 mt-4">
                                <div class="col-md-6">
                                    <div class="location-card">
                                        <div class="location-image">
                                            <span class="location-badge">LOKASI 1</span>
                                            <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/dokumentasi/2025/november/foto7.jpeg" 
                                                 alt="Penenggelaman modul rumah ikan di Desa Kalianget"
                                                 onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1566024287286-457246b56b8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                                        </div>
                                        <h4>Desa Kalianget</h4>
                                        <p class="text-muted"><strong>Hari/Tanggal:</strong> Rabu, 26 November 2025</p>
                                        <p class="text-muted"><strong>Kecamatan:</strong> Banyuglugur</p>
                                        <p class="mb-0">Lokasi penenggelaman pertama dengan kedalaman optimal untuk pertumbuhan terumbu buatan dan habitat ikan karang.</p>
                                    </div>
                                </div>
                                
                                <div class="col-md-6">
                                    <div class="location-card">
                                        <div class="location-image">
                                            <span class="location-badge">LOKASI 2</span>
                                            <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/dokumentasi/2025/november/foto8.jpeg" 
                                                 alt="Penenggelaman modul rumah ikan di Desa Pasir Putih"
                                                 onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1566024287286-457246b56b8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                                        </div>
                                        <h4>Desa Pasir Putih</h4>
                                        <p class="text-muted"><strong>Hari/Tanggal:</strong> Kamis, 20 November 2025</p>
                                        <p class="text-muted"><strong>Kecamatan:</strong> Bungatan</p>
                                        <p class="mb-0">Lokasi penenggelaman kedua yang strategis untuk melindungi daerah pemijahan ikan dan biota laut lainnya.</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-lg-4">
                    <!-- Organizer -->
                    <div class="content-box" data-aos="fade-left">
                        <h2 class="section-title">Penyelenggara</h2>
                        
                        <div class="mb-4">
                            <div class="d-flex align-items-center mb-4 p-3 rounded" style="background: #f0fdfa;">
                                <div class="bg-conservation-teal p-3 rounded-circle me-3">
                                    <i class="fas fa-water text-white"></i>
                                </div>
                                <div>
                                    <h5 class="mb-1 text-conservation-teal">Dinas Kelautan dan Perikanan</h5>
                                    <p class="text-muted mb-0">Provinsi Jawa Timur</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center mb-4 p-3 rounded" style="background: #f0fdfa;">
                                <div class="bg-eco-green p-3 rounded-circle me-3">
                                    <i class="fas fa-fish text-white"></i>
                                </div>
                                <div>
                                    <h5 class="mb-1 text-conservation-teal">Dinas Peternakan dan Perikanan</h5>
                                    <p class="text-muted mb-0">Kabupaten Situbondo</p>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center p-3 rounded" style="background: #f0fdfa;">
                                <div class="bg-conservation-teal p-3 rounded-circle me-3">
                                    <i class="fas fa-handshake text-white"></i>
                                </div>
                                <div>
                                    <h5 class="mb-1 text-conservation-teal">FORKOPIMKA</h5>
                                    <p class="text-muted mb-0">Forum Koordinasi Pimpinan Kecamatan</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-4">
                            <h5 class="section-title mb-3">Kategori Kegiatan</h5>
                            <div class="d-flex flex-wrap gap-2">
                                <span class="badge bg-light text-dark p-2 border">konservasi perairan</span>
                                <span class="badge bg-light text-dark p-2 border">rumah ikan</span>
                                <span class="badge bg-light text-dark p-2 border">artificial reef</span>
                                <span class="badge bg-light text-dark p-2 border">ekosistem laut</span>
                                <span class="badge bg-light text-dark p-2 border">perikanan berkelanjutan</span>
                                <span class="badge bg-light text-dark p-2 border">pelestarian sumber daya</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quick Facts -->
                    <div class="content-box" data-aos="fade-left" data-aos-delay="100">
                        <h2 class="section-title">Fakta Singkat</h2>
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-success-green p-2 rounded-circle me-3">
                                <i class="fas fa-ruler-vertical text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Kedalaman Penempatan</h6>
                                <p class="text-muted mb-0">Â± 50 meter dari permukaan</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-center mb-3">
                            <div class="bg-warning-orange p-2 rounded-circle me-3">
                                <i class="fas fa-cubes text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Total Modul</h6>
                                <p class="text-muted mb-0">15 unit rumah ikan</p>
                            </div>
                        </div>
                        <div class="d-flex align-items-center">
                            <div class="bg-secondary-blue p-2 rounded-circle me-3">
                                <i class="fas fa-users text-white"></i>
                            </div>
                            <div>
                                <h6 class="mb-1">Partisipasi Masyarakat</h6>
                                <p class="text-muted mb-0">7 lembaga/organisasi</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Participants Section -->
    <section class="participants-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="section-title d-inline-block">Peserta dan Mitra Kegiatan</h2>
                    <p class="text-muted mt-3">Kolaborasi multipihak dalam program konservasi perairan</p>
                </div>
            </div>
            
            <div class="row g-4">
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-university"></i>
                        </div>
                        <h6 class="mb-0">DKP Provinsi Jatim</h6>
                        <small class="text-muted">Penyelenggara</small>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up" data-aos-delay="50">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-fish"></i>
                        </div>
                        <h6 class="mb-0">Disnakan Situbondo</h6>
                        <small class="text-muted">Penyelenggara</small>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up" data-aos-delay="100">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h6 class="mb-0">Kelompok Nelayan</h6>
                        <small class="text-muted">Pokmaswas</small>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up" data-aos-delay="150">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <h6 class="mb-0">Pemerintah Desa</h6>
                        <small class="text-muted">Aparat Setempat</small>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-tools"></i>
                        </div>
                        <h6 class="mb-0">Tim Teknis</h6>
                        <small class="text-muted">Penenggelaman</small>
                    </div>
                </div>
                <div class="col-lg-2 col-md-4 col-6" data-aos="fade-up" data-aos-delay="250">
                    <div class="participant-item">
                        <div class="participant-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h6 class="mb-0">TNI AL/Polairud</h6>
                        <small class="text-muted">Pengawalan</small>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="section-title d-inline-block">Manfaat dan Tujuan Program</h2>
                    <p class="text-muted mt-3">Dampak positif yang diharapkan dari penenggelaman modul rumah ikan</p>
                </div>
            </div>
            
            <div class="row g-4">
                <div class="col-lg-3 col-md-6" data-aos="fade-up">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h4>Pelestarian Ekosistem</h4>
                        <p class="text-muted">Menciptakan habitat baru bagi biota laut untuk berkembang biak dan mencari makan, mendukung regenerasi populasi ikan.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="100">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h4>Peningkatan Produktivitas</h4>
                        <p class="text-muted">Meningkatkan hasil tangkapan nelayan tradisional melalui penciptaan daerah penangkapan ikan yang baru dan produktif.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-balance-scale"></i>
                        </div>
                        <h4>Pengurangan Tekanan Tangkap</h4>
                        <p class="text-muted">Mengurangi beban penangkapan di wilayah tradisional dengan menyediakan alternatif lokasi penangkapan yang baru.</p>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6" data-aos="fade-up" data-aos-delay="300">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-hands-helping"></i>
                        </div>
                        <h4>Pemberdayaan Masyarakat</h4>
                        <p class="text-muted">Melibatkan masyarakat nelayan dalam program konservasi, meningkatkan kesadaran akan pentingnya keberlanjutan sumber daya laut.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Timeline Section -->
    <section class="timeline-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="section-title d-inline-block">Rangkaian Kegiatan</h2>
                    <p class="text-muted mt-3">Proses dan tahapan pelaksanaan penenggelaman modul rumah ikan</p>
                </div>
            </div>
            
            <div class="row">
                <div class="col-lg-10 mx-auto">
                    <div class="timeline">
                        <div class="timeline-item" data-aos="fade-right">
                            <div class="timeline-date">1</div>
                            <div class="timeline-content">
                                <h5>Persiapan dan Pengangkutan Modul</h5>
                                <p class="text-muted mb-0">Modul rumah ikan dipersiapkan dan diangkut ke lokasi peluncuran menggunakan alat transportasi khusus dengan memperhatikan aspek keamanan dan keselamatan.</p>
                            </div>
                        </div>
                        
                        <div class="timeline-item" data-aos="fade-right" data-aos-delay="100">
                            <div class="timeline-date">2</div>
                            <div class="timeline-content">
                                <h5>Koordinasi Teknis dengan Pihak Terkait</h5>
                                <p class="text-muted mb-0">Melakukan rapat koordinasi teknis untuk menentukan titik penenggelaman berdasarkan hasil survei batimetri dan kondisi ekologi perairan.</p>
                            </div>
                        </div>
                        
                        <div class="timeline-item" data-aos="fade-right" data-aos-delay="200">
                            <div class="timeline-date">3</div>
                            <div class="timeline-content">
                                <h5>Pemasangan Alat Bantu Navigasi</h5>
                                <p class="text-muted mb-0">Instalasi alat bantu navigasi dan pengukuran kedalaman untuk memastikan penempatan modul pada lokasi dan kedalaman yang tepat.</p>
                            </div>
                        </div>
                        
                        <div class="timeline-item" data-aos="fade-right" data-aos-delay="300">
                            <div class="timeline-date">4</div>
                            <div class="timeline-content">
                                <h5>Penenggelaman Modul Rumah Ikan</h5>
                                <p class="text-muted mb-0">Proses penenggelaman modul dilakukan secara bertahap sesuai prosedur keselamatan dengan menggunakan peralatan khusus dan pengawasan ketat.</p>
                            </div>
                        </div>
                        
                        <div class="timeline-item" data-aos="fade-right" data-aos-delay="400">
                            <div class="timeline-date">5</div>
                            <div class="timeline-content">
                                <h5>Dokumentasi dan Pencatatan Data</h5>
                                <p class="text-muted mb-0">Melakukan dokumentasi lengkap (foto, video) serta pencatatan koordinat GPS setiap modul yang ditenggelamkan untuk keperluan monitoring dan evaluasi.</p>
                            </div>
                        </div>
                        
                        <div class="timeline-item" data-aos="fade-right" data-aos-delay="500">
                            <div class="timeline-date">6</div>
                            <div class="timeline-content">
                                <h5>Evaluasi dan Tindak Lanjut</h5>
                                <p class="text-muted mb-0">Melakukan evaluasi awal kegiatan dan diskusi mengenai rencana monitoring berkala serta program tindak lanjut untuk memastikan keberhasilan program.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery-section">
        <div class="container">
            <div class="row mb-5">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="section-title d-inline-block">Dokumentasi Visual Kegiatan</h2>
                    <p class="text-muted mt-3">Rekaman proses penenggelaman modul rumah ikan di perairan Situbondo</p>
                </div>
            </div>
            
            <div class="row g-4">
                <!-- Foto 1 -->
                <div class="col-lg-4 col-md-6" data-aos="fade-up">
                    <div class="gallery-item">
                        <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/dokumentasi/2025/november/foto8.jpeg" 
                             alt="Penenggelaman modul rumah ikan di Desa Pasir Putih"
                             onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1566024287286-457246b56b8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="gallery-overlay">
                            <div class="gallery-caption">
                                <h6 class="text-white mb-0">Penenggelaman di Pasir Putih</h6>
                                <small class="text-white">Proses penempatan modul di Desa Pasir Putih</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Foto 2 -->
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="100">
                    <div class="gallery-item">
                        <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/dokumentasi/2025/november/foto7.jpeg" 
                             alt="Penenggelaman modul rumah ikan di Desa Kalianget"
                             onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1439066615861-d1af74d74000?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="gallery-overlay">
                            <div class="gallery-caption">
                                <h6 class="text-white mb-0">Penenggelaman di Kalianget</h6>
                                <small class="text-white">Proses penempatan modul di Desa Kalianget</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Foto 3 -->
                <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-delay="200">
                    <div class="gallery-item">
                        <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/dokumentasi/2025/november/foto6.jpeg" 
                             alt="Pengecekan kualitas dan jumlah modul oleh Kepala Bidang Pemberdayaan Nelayan"
                             onerror="this.onerror=null; this.src='https://images.unsplash.com/photo-1566024287286-457246b56b8a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80'">
                        <div class="gallery-overlay">
                            <div class="gallery-caption">
                                <h6 class="text-white mb-0">Pengecekan Kualitas Modul</h6>
                                <small class="text-white">Inspeksi oleh Kepala Bidang Pemberdayaan Nelayan</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Results Section -->
    <section class="content-box container my-5" data-aos="fade-up">
        <div class="row">
            <div class="col-lg-10 mx-auto">
                <h2 class="section-title text-center">Hasil dan Capaian Kegiatan</h2>
                
                <div class="row mt-4">
                    <div class="col-md-6">
                        <div class="d-flex align-items-start mb-4">
                            <div class="bg-eco-green p-3 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-check text-white"></i>
                            </div>
                            <div>
                                <h5 class="text-conservation-teal">Penenggelaman Berhasil Dilaksanakan</h5>
                                <p class="text-muted">Telah berhasil ditenggelamkan sebanyak Â± 15 unit modul rumah ikan di titik koordinat yang telah ditentukan berdasarkan kajian teknis dan ekologi.</p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-start mb-4">
                            <div class="bg-eco-green p-3 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-ruler-vertical text-white"></i>
                            </div>
                            <div>
                                <h5 class="text-conservation-teal">Penempatan pada Kedalaman Optimal</h5>
                                <p class="text-muted">Modul ditenggelamkan pada kedalaman Â± 50 meter, sesuai dengan hasil survei batimetri untuk memastikan efektivitas sebagai habitat ikan.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="col-md-6">
                        <div class="d-flex align-items-start mb-4">
                            <div class="bg-eco-green p-3 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-thumbs-up text-white"></i>
                            </div>
                            <div>
                                <h5 class="text-conservation-teal">Pelaksanaan Aman dan Lancar</h5>
                                <p class="text-muted">Kegiatan berjalan lancar, aman, dan sesuai dengan rencana teknis yang telah disusun, dengan dukungan penuh dari semua pihak terkait.</p>
                            </div>
                        </div>
                        
                        <div class="d-flex align-items-start">
                            <div class="bg-eco-green p-3 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-eye text-white"></i>
                            </div>
                            <div>
                                <h5 class="text-conservation-teal">Monitoring Berkala</h5>
                                <p class="text-muted">Dinas terkait akan melakukan monitoring berkala terhadap perkembangan ekosistem di sekitar modul untuk mengevaluasi efektivitas program.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="highlight-box mt-4">
                    <h5><i class="fas fa-users"></i> Dukungan dan Partisipasi Masyarakat</h5>
                    <p class="mb-0">Masyarakat nelayan menyambut baik kegiatan ini dan siap menjaga serta memanfaatkan rumah ikan secara berkelanjutan. Partisipasi aktif masyarakat menjadi kunci keberhasilan program konservasi ini dalam jangka panjang.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Action Buttons Section -->
    <section class="action-buttons">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto text-center">
                    <h2 class="mb-4">Akses Laporan dan Bagikan Kegiatan</h2>
                    <div class="d-flex flex-wrap justify-content-center gap-3">
                        <button class="btn-download" onclick="openSecurityModal()">
                            <i class="fas fa-download me-2"></i>Download Laporan Kegiatan (PDF)
                        </button>
                        <button class="btn-share" onclick="openShareModal()">
                            <i class="fas fa-share-alt me-2"></i>Bagikan Kegiatan Ini
                        </button>
                        <a href="https://www.dinasperikanansitubondo.com/kegiatan" class="btn-share">
                            <i class="fas fa-images me-2"></i>Kegiatan Lainnya
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row g-5">
                <div class="col-lg-4">
                    <div class="d-flex align-items-center mb-4">
                        <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/LOGO%20KABUPATEN%20SITUBONDO.png" 
                             alt="Logo Kabupaten Situbondo" 
                             height="50" 
                             class="me-3">
                        <div>
                            <h4 class="text-white mb-0">DINAS PERIKANAN</h4>
                            <small class="text-light">Kabupaten Situbondo</small>
                        </div>
                    </div>
                    <p class="text-light mb-4" style="line-height: 1.7;">
                        Berkontribusi aktif dalam memajukan sektor perikanan tangkap dan memberdayakan masyarakat pesisir Situbondo melalui berbagai program inovatif dan berkelanjutan.
                    </p>
                    <div class="social-icons mt-4">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-3">
                    <h5>Tautan Cepat</h5>
                    <div class="footer-links mt-4">
                        <a href="https://www.dinasperikanansitubondo.com"><i class="fas fa-home me-2"></i>Beranda</a>
                        <a href="https://www.dinasperikanansitubondo.com/simata"><i class="fas fa-mobile-alt me-2"></i>SIMATA</a>
                        <a href="https://www.dinasperikanansitubondo.com/dokumentasi"><i class="fas fa-images me-2"></i>Dokumentasi</a>
                        <a href="https://situbondokab.go.id/"><i class="fas fa-university me-2"></i>Pemkab Situbondo</a>
                        <a href="https://www.dinasperikanansitubondo.com#aduan"><i class="fas fa-headset me-2"></i>Pengaduan</a>
                    </div>
                </div>
                
                <div class="col-lg-5">
                    <h5>Kontak Kami</h5>
                    <div class="mt-4">
                        <div class="d-flex align-items-start mb-4">
                            <div class="bg-conservation-teal p-2 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-map-marker-alt text-white"></i>
                            </div>
                            <div>
                                <span class="d-block text-white fw-bold">Alamat Kantor</span>
                                <small class="text-light">Jl. PB Sudirman No.77 C, Situbondo, Jawa Timur</small>
                            </div>
                        </div>
                        <div class="d-flex align-items-start mb-4">
                            <div class="bg-conservation-teal p-2 rounded-circle me-3 flex-shrink-0">
                                <i class="fab fa-whatsapp text-white"></i>
                            </div>
                            <div>
                                <span class="d-block text-white fw-bold">WhatsApp Admin</span>
                                <small class="text-light">0878 6561 4222</small>
                            </div>
                        </div>
                        <div class="d-flex align-items-start">
                            <div class="bg-conservation-teal p-2 rounded-circle me-3 flex-shrink-0">
                                <i class="fas fa-envelope text-white"></i>
                            </div>
                            <div>
                                <span class="d-block text-white fw-bold">Email</span>
                                <small class="text-light">info@dinasperikanansitubondo.com</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <hr class="bg-light my-5">
            
            <div class="text-center text-light">
                <p class="mb-2">&copy; <span id="currentYear">2025</span> Dinas Perikanan Situbondo. Hak Cipta Dilindungi.</p>
                <small>Dibuat dengan <i class="fas fa-heart text-danger"></i> untuk Nelayan Situbondo</small>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- AOS Animation -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

    <script>
        // Initialize AOS
        AOS.init({
            duration: 800,
            once: true,
            offset: 100
        });

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.querySelector('.navbar');
            if (window.scrollY > 50) {
                navbar.style.boxShadow = '0 5px 20px rgba(0, 0, 0, 0.1)';
                navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.98)';
            } else {
                navbar.style.boxShadow = '0 2px 20px rgba(0, 0, 0, 0.08)';
                navbar.style.backgroundColor = 'rgba(255, 255, 255, 0.95)';
            }
        });

        // Gallery modal functionality
        const galleryItems = document.querySelectorAll('.gallery-item');
        galleryItems.forEach(item => {
            item.addEventListener('click', function() {
                const imgSrc = this.querySelector('img').src;
                const imgAlt = this.querySelector('img').alt;
                
                // Create modal
                const modalHTML = `
                <div class="modal fade" id="imageModal" tabindex="-1">
                    <div class="modal-dialog modal-dialog-centered modal-lg">
                        <div class="modal-content border-0">
                            <div class="modal-body p-0 position-relative">
                                <img src="${imgSrc}" alt="${imgAlt}" class="img-fluid w-100 rounded">
                                <button type="button" class="btn-close position-absolute top-0 end-0 m-3 bg-white" data-bs-dismiss="modal"></button>
                            </div>
                        </div>
                    </div>
                </div>
                `;
                
                // Add modal to body
                document.body.insertAdjacentHTML('beforeend', modalHTML);
                
                // Show modal
                const modal = new bootstrap.Modal(document.getElementById('imageModal'));
                modal.show();
                
                // Remove modal when closed
                document.getElementById('imageModal').addEventListener('hidden.bs.modal', function() {
                    this.remove();
                });
            });
        });

        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if(targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if(targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Add scroll to top button
        const scrollTopBtn = document.createElement('button');
        scrollTopBtn.innerHTML = '<i class="fas fa-chevron-up"></i>';
        scrollTopBtn.className = 'btn btn-primary position-fixed bottom-3 end-3 rounded-circle shadow-lg';
        scrollTopBtn.style.width = '50px';
        scrollTopBtn.style.height = '50px';
        scrollTopBtn.style.zIndex = '1000';
        scrollTopBtn.style.display = 'none';
        scrollTopBtn.style.background = 'linear-gradient(135deg, var(--conservation-teal), var(--eco-green))';
        scrollTopBtn.style.border = 'none';
        
        document.body.appendChild(scrollTopBtn);
        
        window.addEventListener('scroll', function() {
            if (window.scrollY > 300) {
                scrollTopBtn.style.display = 'flex';
                scrollTopBtn.style.alignItems = 'center';
                scrollTopBtn.style.justifyContent = 'center';
            } else {
                scrollTopBtn.style.display = 'none';
            }
        });
        
        scrollTopBtn.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Share functionality
        function openShareModal() {
            document.getElementById('shareModal').style.display = 'flex';
        }

        function closeShareModal() {
            document.getElementById('shareModal').style.display = 'none';
        }

        function shareToWhatsApp() {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent('Penenggelaman Modul Rumah Ikan: Upaya Pelestarian Ekosistem Laut Situbondo\n\nProgram konservasi sumber daya kelautan melalui penenggelaman 15 unit modul rumah ikan (artificial reef) di Desa Kalianget dan Pasir Putih, Kabupaten Situbondo.\n\nBaca selengkapnya di:');
            window.open(`https://wa.me/?text=${text}%20${url}`, '_blank');
        }

        function copyLink() {
            const currentUrl = window.location.href;
            navigator.clipboard.writeText(currentUrl).then(() => {
                alert('Link berhasil disalin ke clipboard!');
                closeShareModal();
            }).catch(err => {
                console.error('Gagal menyalin link: ', err);
                alert('Gagal menyalin link. Silakan coba lagi.');
            });
        }

        // Close modals when clicking outside
        document.getElementById('shareModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeShareModal();
            }
        });

        document.getElementById('securityModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeSecurityModal();
            }
        });

        document.getElementById('pdfPreviewModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePdfPreview();
            }
        });

        // Close modals with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeShareModal();
                closePdfPreview();
                closeSecurityModal();
            }
        });

        // ========== NEW SECURITY FUNCTIONS ==========
        
        // Generate security code based on current date (DDMMYYYY)
        function generateSecurityCode() {
            const now = new Date();
            const day = String(now.getDate()).padStart(2, '0');
            const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed
            const year = now.getFullYear();
            
            return day + month + year; // Format: DDMMYYYY
        }

        // Toggle password visibility
        document.getElementById('togglePassword').addEventListener('click', function() {
            const passwordInput = document.getElementById('securityCode');
            const icon = this.querySelector('i');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                passwordInput.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        });

        // Open security modal
        function openSecurityModal() {
            // Reset form
            document.getElementById('securityCode').value = '';
            document.getElementById('securityCode').type = 'password';
            document.getElementById('togglePassword').querySelector('i').className = 'fas fa-eye';
            document.getElementById('errorMessage').style.display = 'none';
            
            // Generate and store current security code
            window.currentSecurityCode = generateSecurityCode();
            
            // Show modal
            document.getElementById('securityModal').style.display = 'flex';
        }

        // Close security modal
        function closeSecurityModal() {
            document.getElementById('securityModal').style.display = 'none';
            window.currentSecurityCode = null;
        }

        // Verify security code
        function verifySecurityCode() {
            const enteredCode = document.getElementById('securityCode').value.trim();
            const errorElement = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            
            // Validate input
            if (!enteredCode) {
                errorText.textContent = 'Harap masukkan kode keamanan!';
                errorElement.style.display = 'flex';
                return;
            }
            
            if (!/^\d{8}$/.test(enteredCode)) {
                errorText.textContent = 'Kode keamanan harus terdiri dari 8 digit angka!';
                errorElement.style.display = 'flex';
                return;
            }
            
            // Check if code matches
            if (enteredCode === window.currentSecurityCode) {
                // Success - proceed with PDF generation
                closeSecurityModal();
                generatePDFReport();
            } else {
                // Incorrect code
                errorText.textContent = 'Kode keamanan tidak valid! Hubungi admin untuk mendapatkan kode yang benar.';
                errorElement.style.display = 'flex';
                
                // Clear input after incorrect attempt
                document.getElementById('securityCode').value = '';
                document.getElementById('securityCode').focus();
            }
        }

        // Handle Enter key in security code input
        document.getElementById('securityCode').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifySecurityCode();
            }
        });

        // ========== PDF FUNCTIONS ==========
        
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        function openPdfPreview() {
            document.getElementById('pdfPreviewModal').style.display = 'flex';
        }

        function closePdfPreview() {
            document.getElementById('pdfPreviewModal').style.display = 'none';
        }

        // Base64 encoded placeholder logo
        const placeholderLogo = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFjSURBVHgB7d2xTQNBEIXhsfAFARIgQzKgTToYAjg3j6JXODcPwdJgOSc/9Vx3/oPnOe6OnnH0l93Tsz+e3/kv3pnvxAAQIIAAIgwggAgDiCCAAAIIIICAIIAAAggggAACCDAABBAgAEggAADQAABBoAAAggggAACCCDAABBAgAEggAACCAgCCCAgCCCAgCCAAAKCAAIICAIICDAABBAQBBBAQBBAAAFBAAEEBAEEEBAEEECAAQSRl/bVc52Z63K6r7c+87Nf3tpyuvfsbT3f2/Kje+6W073n9Tk9e/Z6Hv3wWIIYAAIIIMAABhBAgAEggAADQAABBoAAAggggAACCDAABBAQBBBAQBBAAAFBAAEEBAEEEBAEEECAAQygT+3b89J+PF+c7T37S/tX53vP3nLq2X09r+f7cua+/V7PW5/ZZ1/L6fXc1/Nx/Bj7O8/HXyIABBBCABnQEcTAACgYgAADQAABBBgAAggwAAQQYAATfLZXKSDj7SwAAAAASUVORK5CYII=';

        function generatePDFReport() {
            showLoading();
            
            // Get current date for report
            const currentDate = new Date();
            const formattedDate = currentDate.toLocaleDateString('id-ID', {
                day: 'numeric',
                month: 'long',
                year: 'numeric'
            });
            
            // Create PDF content with formal format
            const pdfContent = `
            <div style="font-family: 'Times New Roman', Times, serif; line-height: 1.6; color: #333;">
                <!-- Kop Surat -->
                <div style="margin-bottom: 30px; border-bottom: 2px solid #000; padding-bottom: 20px;">
                    <table style="width: 100%;">
                        <tr>
                            <td style="width: 80px; vertical-align: middle; padding-top: 5px;">
                                <img src="https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/LOGO%20KABUPATEN%20SITUBONDO.png" 
                                     alt="Logo Kabupaten Situbondo" 
                                     style="width: 70px; height: 70px; object-fit: contain; display: block; border-radius: 0;">
                            </td>
                            <td style="vertical-align: middle; padding-left: 15px;">
                                <h2 style="margin: 0; font-size: 16px; font-weight: bold; letter-spacing: 0.5px;">PEMERINTAH KABUPATEN SITUBONDO</h2>
                                <h1 style="margin: 5px 0; font-size: 18px; font-weight: bold; color: #1abc9c;">DINAS PETERNAKAN DAN PERIKANAN</h1>
                                <p style="margin: 0; font-size: 12px; letter-spacing: 0.3px; line-height: 1.5;">
                                    Jl. PB SUDIRMAN No 77c SITUBONDO TELP/FAX (0338) 672664<br>
                                    SITUBONDO 68312
                                </p>
                            </td>
                        </tr>
                    </table>
                </div>
                
                <!-- Judul Laporan -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <h3 style="margin-bottom: 10px; font-size: 14px; font-weight: bold; color: #333;">LAPORAN KEGIATAN</h3>
                    <h1 style="font-size: 16px; font-weight: bold; text-decoration: underline; color: #27ae60; line-height: 1.4;">
                        PENENGGELAMAN MODUL RUMAH IKAN<br>
                        UNTUK KONSERVASI EKOSISTEM LAUT SITUBONDO
                    </h1>
                </div>
                
                <!-- Isi Laporan -->
                <div style="margin-bottom: 30px;">
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        I. LATAR BELAKANG
                    </h4>
                    <p style="text-align: justify; margin-bottom: 20px; font-size: 12px; line-height: 1.7; text-indent: 30px;">
                        Dalam upaya pelestarian sumber daya ikan dan peningkatan produktivitas perairan, Dinas Kelautan dan Perikanan Provinsi Jawa Timur bersama Dinas Peternakan dan Perikanan Kabupaten Situbondo menyelenggarakan kegiatan penenggelaman modul rumah ikan (artificial reef). Kegiatan ini merupakan program strategis konservasi perairan yang dilaksanakan pada tanggal 20 & 26 November 2025 di Desa Kalianget dan Pasir Putih, Kabupaten Situbondo.
                    </p>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        II. TUJUAN KEGIATAN
                    </h4>
                    <ol style="margin-bottom: 20px; padding-left: 25px; font-size: 12px; line-height: 1.7;">
                        <li style="margin-bottom: 10px; text-align: justify;">Mengurangi tekanan penangkapan di wilayah tangkap tradisional</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Mendukung program konservasi sumber daya kelautan</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Menciptakan habitat baru bagi biota laut untuk berkembang biak dan mencari makan</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Meningkatkan produktivitas perairan dan hasil tangkapan nelayan</li>
                        <li style="margin-bottom: 0; text-align: justify;">Mendukung perikanan berkelanjutan di Kabupaten Situbondo</li>
                    </ol>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        III. PELAKSANAAN KEGIATAN
                    </h4>
                    <table style="width: 100%; border-collapse: collapse; margin-bottom: 20px; font-size: 12px; line-height: 1.7;">
                        <tr>
                            <td style="width: 35%; padding: 8px; border: 1px solid #ddd; font-weight: bold; background: #f8f9fa;">Waktu Pelaksanaan</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">20 & 26 November 2025</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background: #f8f9fa;">Lokasi</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">Desa Kalianget (Kec. Banyuglugur) & Desa Pasir Putih (Kec. Bungatan)</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background: #f8f9fa;">Jumlah Modul</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">15 Unit Rumah Ikan (Artificial Reef)</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd; font-weight: bold; background: #f8f9fa;">Kedalaman</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">Â± 50 meter dari permukaan laut</td>
                        </tr>
                    </table>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        IV. PENYELENGGARA
                    </h4>
                    <ol style="margin-bottom: 20px; padding-left: 25px; font-size: 12px; line-height: 1.7;">
                        <li style="margin-bottom: 10px; text-align: justify;">Dinas Kelautan dan Perikanan Provinsi Jawa Timur</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Dinas Peternakan dan Perikanan Kabupaten Situbondo</li>
                        <li style="margin-bottom: 0; text-align: justify;">FORKOPIMKA (Forum Koordinasi Pimpinan Kecamatan) Setempat</li>
                    </ol>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        V. MANFAAT DAN TUJUAN PROGRAM
                    </h4>
                    <ul style="margin-bottom: 20px; padding-left: 25px; font-size: 12px; line-height: 1.7;">
                        <li style="margin-bottom: 10px; text-align: justify;">Pelestarian Ekosistem: Menciptakan habitat baru bagi biota laut</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Peningkatan Produktivitas: Meningkatkan hasil tangkapan nelayan tradisional</li>
                        <li style="margin-bottom: 10px; text-align: justify;">Pengurangan Tekanan Tangkap: Mengurangi beban penangkapan di wilayah tradisional</li>
                        <li style="margin-bottom: 0; text-align: justify;">Pemberdayaan Masyarakat: Melibatkan masyarakat nelayan dalam program konservasi</li>
                    </ul>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        VI. HASIL KEGIATAN
                    </h4>
                    <p style="text-align: justify; margin-bottom: 20px; font-size: 12px; line-height: 1.7; text-indent: 30px;">
                        Kegiatan penenggelaman modul rumah ikan telah berhasil dilaksanakan dengan lancar dan aman. Sebanyak 15 unit modul rumah ikan telah ditenggelamkan di dua lokasi strategis dengan kedalaman optimal Â± 50 meter. Masyarakat nelayan menyambut baik kegiatan ini dan siap menjaga serta memanfaatkan rumah ikan secara berkelanjutan. Partisipasi aktif masyarakat menjadi kunci keberhasilan program konservasi ini dalam jangka panjang.
                    </p>
                    
                    <h4 style="font-size: 13px; font-weight: bold; margin-bottom: 15px; color: #1abc9c;">
                        VII. KESIMPULAN DAN REKOMENDASI
                    </h4>
                    <p style="text-align: justify; margin-bottom: 10px; font-size: 12px; line-height: 1.7; text-indent: 30px;">
                        Program penenggelaman modul rumah ikan merupakan langkah strategis dalam upaya konservasi ekosistem laut di Kabupaten Situbondo. Untuk keberlanjutan program, disarankan:
                    </p>
                    <ol style="margin-bottom: 5px; padding-left: 25px; font-size: 12px; line-height: 1.7;">
                        <li style="margin-bottom: 8px;">Melakukan monitoring berkala terhadap perkembangan ekosistem di sekitar modul</li>
                        <li style="margin-bottom: 8px;">Melanjutkan program serupa di lokasi strategis lainnya</li>
                        <li style="margin-bottom: 0;">Meningkatkan koordinasi dengan semua pihak terkait</li>
                    </ol>
                </div>
                
                <!-- Tanda Tangan -->
                <div style="display: flex; justify-content: space-between; margin-top: 80px; align-items: flex-start;">
                    <div style="width: 60%;">
                        <div style="margin-bottom: 10px;">
                            <p style="margin-bottom: 5px; font-size: 12px;">Situbondo, ${formattedDate}</p>
                            <p style="font-weight: bold; font-size: 12px; margin-top: 40px;">Pelapor,</p>
                        </div>
                    </div>
                    <div style="width: 35%;">
                        <!-- Kosongkan untuk QR code nanti -->
                    </div>
                </div>
                
                <!-- Footer dengan garis dan QR code -->
                <div style="margin-top: 100px; border-top: 1px solid #ddd; padding-top: 15px; position: relative;">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div style="text-align: left; font-size: 10px; color: #666; width: 70%;">
                            <p style="margin-bottom: 5px;">Laporan ini dibuat secara otomatis oleh sistem Dinas Perikanan Situbondo</p>
                            <p>Â© ${currentDate.getFullYear()} Dinas Peternakan dan Perikanan Kabupaten Situbondo</p>
                        </div>
                        <div style="text-align: right; width: 25%;">
                            <div class="qr-code" style="background: #ffffff; padding: 5px; border-radius: 4px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); float: right;">
                                <img src="https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(window.location.href)}&color=27ae60&bgcolor=ffffff" 
                                     alt="QR Code Sumber Laporan" 
                                     style="width: 70px; height: 70px; object-fit: contain;">
                            </div>
                            <p style="font-size: 9px; margin-top: 5px; color: #666; clear: both; text-align: right;">Scan untuk mengakses sumber laporan</p>
                        </div>
                    </div>
                </div>
            </div>
            `;
            
            // Set content to preview
            document.getElementById('pdfPreviewContent').innerHTML = pdfContent;
            
            hideLoading();
            openPdfPreview();
        }

        async function downloadPDF() {
            showLoading();
            
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF({
                    orientation: 'portrait',
                    unit: 'mm',
                    format: 'a4'
                });
                
                // Set margins
                const margin = 20;
                let yPos = margin;
                
                // Current date
                const currentDate = new Date();
                const formattedDate = currentDate.toLocaleDateString('id-ID', {
                    day: 'numeric',
                    month: 'long',
                    year: 'numeric'
                });
                
                // Logo dimensions
                const logoWidth = 18;
                const logoHeight = 18;
                
                // Try to load real logo, fallback to placeholder
                try {
                    const logoImg = new Image();
                    logoImg.crossOrigin = 'Anonymous';
                    
                    await new Promise((resolve, reject) => {
                        logoImg.onload = resolve;
                        logoImg.onerror = () => {
                            // Use placeholder if real logo fails
                            logoImg.src = placeholderLogo;
                            resolve();
                        };
                        logoImg.src = 'https://raw.githubusercontent.com/pemberdayaannelayan/situbondo/refs/heads/main/LOGO%20KABUPATEN%20SITUBONDO.png';
                    });
                    
                    // Add logo at the top-left
                    doc.addImage(logoImg, 'PNG', margin, yPos, logoWidth, logoHeight);
                } catch (e) {
                    console.log('Using placeholder logo');
                    const placeholderImg = new Image();
                    placeholderImg.src = placeholderLogo;
                    await new Promise(resolve => {
                        placeholderImg.onload = resolve;
                    });
                    doc.addImage(placeholderImg, 'PNG', margin, yPos, logoWidth, logoHeight);
                }
                
                // Add header text to the right of the logo
                doc.setFontSize(11);
                doc.setFont("helvetica", "bold");
                doc.text("PEMERINTAH KABUPATEN SITUBONDO", 105, yPos + 5, { align: 'center' });
                
                doc.setFontSize(12);
                doc.text("DINAS PETERNAKAN DAN PERIKANAN", 105, yPos + 11, { align: 'center' });
                
                doc.setFontSize(9);
                doc.setFont("helvetica", "normal");
                doc.text("Jl. PB SUDIRMAN No 77c SITUBONDO TELP/FAX (0338) 672664", 105, yPos + 17, { align: 'center' });
                doc.text("SITUBONDO 68312", 105, yPos + 22, { align: 'center' });
                
                yPos += 30;
                
                // Add horizontal line
                doc.setLineWidth(0.5);
                doc.line(margin, yPos, 210 - margin, yPos);
                yPos += 15;
                
                // Report title
                doc.setFontSize(12);
                doc.setFont("helvetica", "bold");
                doc.text("LAPORAN KEGIATAN", 105, yPos, { align: 'center' });
                yPos += 10;
                
                // Main title
                doc.setFontSize(14);
                const title1 = "PENENGGELAMAN MODUL RUMAH IKAN";
                const title2 = "UNTUK KONSERVASI EKOSISTEM LAUT SITUBONDO";
                
                // Split jika terlalu panjang
                const titleLines1 = doc.splitTextToSize(title1, 170);
                const titleLines2 = doc.splitTextToSize(title2, 170);
                
                titleLines1.forEach(line => {
                    doc.text(line, 105, yPos, { align: 'center' });
                    yPos += 7;
                });
                
                titleLines2.forEach(line => {
                    doc.text(line, 105, yPos, { align: 'center' });
                    yPos += 7;
                });
                
                yPos += 10;
                
                // Helper function untuk menambahkan teks
                function addText(title, content, isList = false, isNumberedList = false) {
                    // Check for page break
                    if (yPos > 270) {
                        doc.addPage();
                        yPos = margin;
                    }
                    
                    // Add title
                    doc.setFontSize(12);
                    doc.setFont("helvetica", "bold");
                    doc.text(title, margin, yPos);
                    yPos += 8;
                    
                    // Add content
                    doc.setFontSize(11);
                    doc.setFont("helvetica", "normal");
                    
                    if (isList) {
                        const items = content.split('\n');
                        items.forEach((item, index) => {
                            if (yPos > 270) {
                                doc.addPage();
                                yPos = margin + 8;
                            }
                            const lines = doc.splitTextToSize(item, 160);
                            lines.forEach((line, lineIndex) => {
                                if (lineIndex === 0) {
                                    if (isNumberedList) {
                                        doc.text(`${index + 1}. ${line}`, margin + 5, yPos);
                                    } else {
                                        doc.text(`â¢ ${line}`, margin + 5, yPos);
                                    }
                                } else {
                                    doc.text(line, margin + 10, yPos);
                                }
                                yPos += 6;
                            });
                        });
                    } else {
                        const lines = doc.splitTextToSize(content, 170);
                        lines.forEach(line => {
                            if (yPos > 270) {
                                doc.addPage();
                                yPos = margin + 8;
                            }
                            doc.text(line, margin, yPos);
                            yPos += 6;
                        });
                    }
                    
                    yPos += 8;
                }
                
                // Add content sections
                addText("I. LATAR BELAKANG", 
                    "Dalam upaya pelestarian sumber daya ikan dan peningkatan produktivitas perairan, Dinas Kelautan dan Perikanan Provinsi Jawa Timur bersama Dinas Peternakan dan Perikanan Kabupaten Situbondo menyelenggarakan kegiatan penenggelaman modul rumah ikan (artificial reef). Kegiatan ini merupakan program strategis konservasi perairan yang dilaksanakan pada tanggal 20 & 26 November 2025 di Desa Kalianget dan Pasir Putih, Kabupaten Situbondo.");
                
                addText("II. TUJUAN KEGIATAN", 
                    "Mengurangi tekanan penangkapan di wilayah tangkap tradisional\n" +
                    "Mendukung program konservasi sumber daya kelautan\n" +
                    "Menciptakan habitat baru bagi biota laut untuk berkembang biak dan mencari makan\n" +
                    "Meningkatkan produktivitas perairan dan hasil tangkapan nelayan\n" +
                    "Mendukung perikanan berkelanjutan di Kabupaten Situbondo", true, true);
                
                addText("III. PELAKSANAAN KEGIATAN", 
                    "Waktu Pelaksanaan: 20 & 26 November 2025\n" +
                    "Lokasi: Desa Kalianget (Kec. Banyuglugur) & Desa Pasir Putih (Kec. Bungatan)\n" +
                    "Jumlah Modul: 15 Unit Rumah Ikan (Artificial Reef)\n" +
                    "Kedalaman: Â± 50 meter dari permukaan laut", true);
                
                addText("IV. PENYELENGGARA", 
                    "Dinas Kelautan dan Perikanan Provinsi Jawa Timur\n" +
                    "Dinas Peternakan dan Perikanan Kabupaten Situbondo\n" +
                    "FORKOPIMKA (Forum Koordinasi Pimpinan Kecamatan) Setempat", true, true);
                
                addText("V. MANFAAT DAN TUJUAN PROGRAM", 
                    "Pelestarian Ekosistem: Menciptakan habitat baru bagi biota laut\n" +
                    "Peningkatan Produktivitas: Meningkatkan hasil tangkapan nelayan tradisional\n" +
                    "Pengurangan Tekanan Tangkap: Mengurangi beban penangkapan di wilayah tradisional\n" +
                    "Pemberdayaan Masyarakat: Melibatkan masyarakat nelayan dalam program konservasi", true);
                
                addText("VI. HASIL KEGIATAN", 
                    "Kegiatan penenggelaman modul rumah ikan telah berhasil dilaksanakan dengan lancar dan aman. Sebanyak 15 unit modul rumah ikan telah ditenggelamkan di dua lokasi strategis dengan kedalaman optimal Â± 50 meter. Masyarakat nelayan menyambut baik kegiatan ini dan siap menjaga serta memanfaatkan rumah ikan secara berkelanjutan. Partisipasi aktif masyarakat menjadi kunci keberhasilan program konservasi ini dalam jangka panjang.");
                
                addText("VII. KESIMPULAN DAN REKOMENDASI", 
                    "Program penenggelaman modul rumah ikan merupakan langkah strategis dalam upaya konservasi ekosistem laut di Kabupaten Situbondo. Untuk keberlanjutan program, disarankan:\n" +
                    "Melakukan monitoring berkala terhadap perkembangan ekosistem di sekitar modul\n" +
                    "Melanjutkan program serupa di lokasi strategis lainnya\n" +
                    "Meningkatkan koordinasi dengan semua pihak terkait", true);
                
                // Add signature section
                if (yPos > 250) {
                    doc.addPage();
                    yPos = margin;
                }
                
                doc.setFontSize(11);
                doc.text(`Situbondo, ${formattedDate}`, margin, yPos);
                yPos += 12;
                doc.setFont("helvetica", "bold");
                doc.text("Pelapor,", margin, yPos);
                yPos += 25;
                
                // Draw a line above the footer
                doc.setLineWidth(0.1);
                doc.line(margin, yPos, 210 - margin, yPos);
                
                // Add footer text on the left
                yPos += 5;
                doc.setFontSize(8);
                doc.setFont("helvetica", "normal");
                doc.text("Laporan ini dibuat secara otomatis oleh sistem Dinas Perikanan Situbondo", margin, yPos);
                doc.text(`Â© ${currentDate.getFullYear()} Dinas Peternakan dan Perikanan Kabupaten Situbondo`, margin, yPos + 4);
                
                // Add QR Code on the right side
                const qrCodeUrl = `https://api.qrserver.com/v1/create-qr-code/?size=80x80&data=${encodeURIComponent(window.location.href)}&color=27ae60&bgcolor=ffffff`;
                try {
                    const qrImg = new Image();
                    qrImg.crossOrigin = 'Anonymous';
                    
                    await new Promise(resolve => {
                        qrImg.onload = resolve;
                        qrImg.onerror = resolve;
                        qrImg.src = qrCodeUrl;
                    });
                    
                    const qrSize = 15;
                    const qrX = 210 - margin - qrSize;
                    const qrY = yPos - 9;
                    
                    if (qrImg.complete && qrImg.naturalHeight !== 0) {
                        doc.addImage(qrImg, 'PNG', qrX, qrY, qrSize, qrSize);
                        doc.setFontSize(6);
                        doc.text("Scan untuk", qrX + qrSize/2, qrY + qrSize + 3, { align: 'center' });
                        doc.text("mengakses", qrX + qrSize/2, qrY + qrSize + 6, { align: 'center' });
                    }
                } catch (e) {
                    console.log('QR code generation failed, continuing without it');
                }
                
                // Save the PDF
                const fileName = `Laporan_Penenggelaman_Modul_Rumah_Ikan_Situbondo_${currentDate.getFullYear()}${String(currentDate.getMonth()+1).padStart(2,'0')}${String(currentDate.getDate()).padStart(2,'0')}.pdf`;
                doc.save(fileName);
                
                hideLoading();
                closePdfPreview();
                
                // Show success message
                setTimeout(() => {
                    alert('Laporan PDF berhasil diunduh!');
                }, 500);
                
            } catch (error) {
                console.error('Error generating PDF:', error);
                hideLoading();
                alert('Terjadi kesalahan saat membuat PDF. Silakan coba lagi.');
            }
        }

        // Fix for footer positioning
        function fixFooterPosition() {
            const footer = document.querySelector('.footer');
            const bodyHeight = document.body.offsetHeight;
            const windowHeight = window.innerHeight;
            
            if (bodyHeight < windowHeight) {
                footer.style.position = 'fixed';
                footer.style.bottom = '0';
            } else {
                footer.style.position = 'relative';
            }
        }

        // Call on load and resize
        window.addEventListener('load', fixFooterPosition);
        window.addEventListener('resize', fixFooterPosition);
    </script>
</body>
</html>

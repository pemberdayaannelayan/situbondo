<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SISMAT - Sistem Manajemen Surat</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Login Modal -->
    <div class="modal fade login-modal" id="loginModal" tabindex="-1" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="login-header">
                    <div class="login-icon">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h5 class="login-title">SISMAT</h5>
                    <p class="login-subtitle">Sistem Manajemen Surat</p>
                </div>
                <div class="login-body">
                    <form id="loginForm">
                        <div class="login-form-group">
                            <label class="login-form-label" for="securityCode">
                                <i class="fas fa-key"></i> Kode Keamanan
                            </label>
                            <div class="input-group">
                                <input type="password" class="form-control login-form-control" id="securityCode" placeholder="Masukkan kode keamanan">
                                <button class="btn btn-outline-secondary toggle-password" type="button">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="form-text mt-2 text-center">
                                <a href="#" class="text-decoration-none" id="guestLoginLink">
                                    <i class="fas fa-user me-1"></i> Masuk sebagai Tamu
                                </a>
                            </div>
                        </div>
                        
                        <button type="submit" class="btn btn-login" id="loginButton">
                            <span class="login-button-text">Masuk ke Aplikasi</span>
                            <span class="spinner-border spinner-border-sm d-none" id="loginSpinner" role="status" aria-hidden="true"></span>
                        </button>
                    </form>
                    
                    <div class="login-attempts-count" id="attemptsCount"></div>
                    
                    <div class="login-blocked-message" id="blockedMessage">
                        <p>Terlalu banyak percobaan login gagal. Silakan coba lagi dalam <span id="countdown" class="login-countdown">30</span> detik.</p>
                    </div>
                    
                    <div class="login-hint">
                        <p><strong>PEMBERDAYAAN NELAYAN</strong></p>
                    </div>
                    
                    <div class="login-security-notice">
                        <p><i class="fas fa-shield-alt me-1"></i> Data Anda terlindungi dengan aman</p>
                    </div>
                    
                    <div class="login-copyright">
                        <p>&copy; 2025 SISMAT. All rights reserved.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>
    
    <!-- Main App Container -->
    <div class="app-container">
        <div class="app-header">
            <div class="app-logo">
                <i class="fas fa-mail-bulk"></i>
            </div>
            <h1 class="app-title">SISMAT</h1>
            <p class="app-subtitle">Sistem Manajemen Surat</p>
            <div class="watermark">v2.2.0</div>
        </div>
        
        <div class="row g-0">
            <!-- Sidebar Menu -->
            <div class="col-md-3 col-lg-2 p-4 bg-light" id="sidebarMenu">
                <ul class="nav nav-pills flex-column" id="menuList">
                    <li class="nav-item">
                        <a class="nav-link active" href="#" data-bs-target="dashboard">
                            <span class="feature-icon"><i class="fas fa-tachometer-alt"></i></span>
                            Dashboard
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="inputSurat">
                            <span class="feature-icon"><i class="fas fa-envelope"></i></span>
                            Input Surat
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="dataSurat">
                            <span class="feature-icon"><i class="fas fa-list"></i></span>
                            Data Surat
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="arsipSurat">
                            <span class="feature-icon"><i class="fas fa-archive"></i></span>
                            Arsip Surat
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="laporan">
                            <span class="feature-icon"><i class="fas fa-chart-bar"></i></span>
                            Laporan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="backupRestore">
                            <span class="feature-icon"><i class="fas fa-database"></i></span>
                            Backup & Restore
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="pengaturan">
                            <span class="feature-icon"><i class="fas fa-cog"></i></span>
                            Pengaturan
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" data-bs-target="developerInfo">
                            <span class="feature-icon"><i class="fas fa-code"></i></span>
                            Developer Info
                        </a>
                    </li>
                    <li class="nav-item mt-4">
                        <a class="nav-link text-danger" href="#" id="logoutBtn">
                            <span class="feature-icon"><i class="fas fa-sign-out-alt"></i></span>
                            Keluar
                        </a>
                    </li>
                </ul>
            </div>
            
            <!-- Main Content -->
            <div class="col-md-9 col-lg-10 p-5 app-content-unauthenticated" id="mainContent">
                <!-- Welcome Notification -->
                <div class="welcome-notification" id="welcomeNotification" style="display: none;">
                    <h5><i class="fas fa-bell me-2"></i> Selamat Datang di SISMAT v2.2.0</h5>
                    <p>Sistem Manajemen Surat telah diperbarui dengan fitur-fitur baru:</p>
                    <p><i class="fas fa-check-circle me-2"></i> <strong>Login Tamu</strong> - Akses terbatas untuk melihat data</p>
                    <p><i class="fas fa-check-circle me-2"></i> <strong>Filter Duplikat</strong> - Verifikasi data duplikat lebih mudah</p>
                    <p><i class="fas fa-check-circle me-2"></i> <strong>Reload Data</strong> - Load data dari backup terenkripsi</p>
                    <button type="button" class="btn btn-sm btn-light mt-2" id="closeWelcomeNotification">
                        <i class="fas fa-times me-1"></i> Tutup
                    </button>
                </div>
                
                <!-- Dashboard Section -->
                <div class="content-section" id="dashboard">
                    <h3 class="section-title">Dashboard</h3>
                    
                    <div class="row">
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-envelope-open-text fa-2x text-primary"></i>
                                </div>
                                <div class="stats-number" id="totalSurat">0</div>
                                <div class="stats-label">Total Surat</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-envelope fa-2x text-success"></i>
                                </div>
                                <div class="stats-number" id="suratMasuk">0</div>
                                <div class="stats-label">Surat Masuk</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-envelope-square fa-2x text-warning"></i>
                                </div>
                                <div class="stats-number" id="suratKeluar">0</div>
                                <div class="stats-label">Surat Keluar</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="stats-box">
                                <div class="stats-icon">
                                    <i class="fas fa-archive fa-2x text-info"></i>
                                </div>
                                <div class="stats-number" id="suratArsip">0</div>
                                <div class="stats-label">Surat Diarsipkan</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-chart-pie me-2"></i> Distribusi Jenis Surat
                                </div>
                                <div class="card-body">
                                    <canvas id="jenisSuratChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-chart-line me-2"></i> Statistik Bulanan
                                </div>
                                <div class="card-body">
                                    <canvas id="monthlyStatsChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-history me-2"></i> Aktivitas Terbaru
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover data-table">
                                            <thead>
                                                <tr>
                                                    <th>No</th>
                                                    <th>Tanggal</th>
                                                    <th>Jenis</th>
                                                    <th>Pengirim/Penerima</th>
                                                    <th>Perihal</th>
                                                    <th>Status</th>
                                                </tr>
                                            </thead>
                                            <tbody id="recentActivities">
                                                <tr>
                                                    <td colspan="6" class="text-center">Tidak ada data</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Reload Data Section -->
                    <div class="reload-data-container mt-4">
                        <h5 class="reload-data-title">
                            <i class="fas fa-sync-alt"></i> Reload Data dari Backup
                        </h5>
                        <div class="reload-warning">
                            <p><strong>Perhatian:</strong> Fitur ini memungkinkan Anda untuk memuat data dari file backup terenkripsi.</p>
                            <p><strong>Fitur:</strong></p>
                            <ul>
                                <li>Data lama tidak akan terhapus</li>
                                <li>Data duplikat akan ditandai dengan warna merah</li>
                                <li>Data baru akan digabungkan dengan data yang ada</li>
                            </ul>
                        </div>
                        <button type="button" class="btn btn-reload" id="showReloadModal">
                            <i class="fas fa-sync me-2"></i> Reload Data dari Backup
                        </button>
                    </div>
                </div>
                
                <!-- Input Surat Section -->
                <div class="content-section d-none" id="inputSurat">
                    <h3 class="section-title">Input Data Surat</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-edit me-2"></i> Form Input Surat
                        </div>
                        <div class="card-body">
                            <form id="inputSuratForm">
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="jenisSurat">
                                            <i class="fas fa-envelope"></i> Jenis Surat
                                        </label>
                                        <select class="form-select" id="jenisSurat" required>
                                            <option value="">Pilih Jenis Surat</option>
                                            <option value="masuk">Surat Masuk</option>
                                            <option value="keluar">Surat Keluar</option>
                                        </select>
                                        <div class="error-message" id="jenisSuratError">Jenis surat harus dipilih</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="tanggalSurat">
                                            <i class="fas fa-calendar"></i> Tanggal Surat
                                        </label>
                                        <input type="date" class="form-control" id="tanggalSurat" required>
                                        <div class="error-message" id="tanggalSuratError">Tanggal surat harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="nomorSurat">
                                            <i class="fas fa-hashtag"></i> Nomor Surat
                                        </label>
                                        <input type="text" class="form-control" id="nomorSurat" placeholder="Masukkan nomor surat" required>
                                        <div class="error-message" id="nomorSuratError">Nomor surat harus diisi</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="tanggalTerima">
                                            <i class="fas fa-calendar-check"></i> Tanggal Diterima/Dikirim
                                        </label>
                                        <input type="date" class="form-control" id="tanggalTerima" required>
                                        <div class="error-message" id="tanggalTerimaError">Tanggal harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="pengirim">
                                            <i class="fas fa-user"></i> Pengirim
                                        </label>
                                        <input type="text" class="form-control" id="pengirim" placeholder="Nama pengirim surat" required>
                                        <div class="error-message" id="pengirimError">Nama pengirim harus diisi</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="penerima">
                                            <i class="fas fa-user-check"></i> Penerima
                                        </label>
                                        <input type="text" class="form-control" id="penerima" placeholder="Nama penerima surat" required>
                                        <div class="error-message" id="penerimaError">Nama penerima harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label" for="perihal">
                                            <i class="fas fa-file-alt"></i> Perihal
                                        </label>
                                        <textarea class="form-control" id="perihal" rows="2" placeholder="Perihal surat" required></textarea>
                                        <div class="error-message" id="perihalError">Perihal surat harus diisi</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-6">
                                        <label class="form-label" for="kategori">
                                            <i class="fas fa-tag"></i> Kategori
                                        </label>
                                        <select class="form-select" id="kategori" required>
                                            <option value="">Pilih Kategori</option>
                                            <option value="pemerintah">Pemerintah</option>
                                            <option value="perusahaan">Perusahaan</option>
                                            <option value="lembaga">Lembaga</option>
                                            <option value="opd">OPD</option>
                                            <option value="upt">UPT</option>
                                            <option value="perorangan">Perorangan</option>
                                            <option value="lainnya">Lainnya</option>
                                        </select>
                                        <div class="error-message" id="kategoriError">Kategori harus dipilih</div>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label" for="prioritas">
                                            <i class="fas fa-exclamation-circle"></i> Prioritas
                                        </label>
                                        <select class="form-select" id="prioritas" required>
                                            <option value="">Pilih Prioritas</option>
                                            <option value="tinggi">Tinggi</option>
                                            <option value="sedang">Sedang</option>
                                            <option value="rendah">Rendah</option>
                                        </select>
                                        <div class="error-message" id="prioritasError">Prioritas harus dipilih</div>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label" for="keterangan">
                                            <i class="fas fa-sticky-note"></i> Keterangan
                                        </label>
                                        <textarea class="form-control" id="keterangan" rows="2" placeholder="Keterangan tambahan"></textarea>
                                    </div>
                                </div>
                                
                                <div class="row mb-3">
                                    <div class="col-md-12">
                                        <label class="form-label" for="linkDrive">
                                            <i class="fab fa-google-drive"></i> Link Google Drive
                                        </label>
                                        <input type="url" class="form-control" id="linkDrive" placeholder="https://drive.google.com/...">
                                        <div class="error-message" id="linkDriveError">Format URL tidak valid</div>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-12">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-save me-2"></i> Simpan Data
                                        </button>
                                        <button type="reset" class="btn btn-secondary">
                                            <i class="fas fa-undo me-2"></i> Reset Form
                                        </button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- Data Surat Section -->
                <div class="content-section d-none" id="dataSurat">
                    <h3 class="section-title">Data Surat</h3>
                    
                    <div class="filter-section">
                        <div class="row">
                            <div class="col-md-3">
                                <label class="form-label" for="filterJenis">
                                    <i class="fas fa-filter"></i> Filter Jenis
                                </label>
                                <select class="form-select" id="filterJenis">
                                    <option value="">Semua Jenis</option>
                                    <option value="masuk">Surat Masuk</option>
                                    <option value="keluar">Surat Keluar</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="filterKategori">
                                    <i class="fas fa-tag"></i> Filter Kategori
                                </label>
                                <select class="form-select" id="filterKategori">
                                    <option value="">Semua Kategori</option>
                                    <option value="pemerintah">Pemerintah</option>
                                    <option value="perusahaan">Perusahaan</option>
                                    <option value="lembaga">Lembaga</option>
                                    <option value="opd">OPD</option>
                                    <option value="upt">UPT</option>
                                    <option value="perorangan">Perorangan</option>
                                    <option value="lainnya">Lainnya</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="filterPrioritas">
                                    <i class="fas fa-exclamation-circle"></i> Filter Prioritas
                                </label>
                                <select class="form-select" id="filterPrioritas">
                                    <option value="">Semua Prioritas</option>
                                    <option value="tinggi">Tinggi</option>
                                    <option value="sedang">Sedang</option>
                                    <option value="rendah">Rendah</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label" for="filterDuplikat">
                                    <i class="fas fa-clone"></i> Filter Duplikat
                                </label>
                                <select class="form-select" id="filterDuplikat">
                                    <option value="">Semua Data</option>
                                    <option value="duplikat">Hanya Duplikat</option>
                                    <option value="unik">Hanya Unik</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col-md-9">
                                <div class="input-group">
                                    <input type="text" class="form-control" id="searchInput" placeholder="Cari...">
                                    <button class="btn btn-outline-secondary" type="button" id="clearSearch">
                                        <i class="fas fa-times"></i>
                                    </button>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <button type="button" class="btn btn-outline-primary w-100" id="reloadDataBtn">
                                    <i class="fas fa-sync-alt me-2"></i> Reload Data
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-list me-2"></i> Daftar Surat
                                <span class="badge bg-warning ms-2" id="duplicateCountBadge" style="display: none;">0 Duplikat</span>
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" id="exportExcel">
                                    <i class="fas fa-file-excel me-1"></i> Excel
                                </button>
                                <button type="button" class="btn btn-outline-danger btn-sm" id="exportPDF">
                                    <i class="fas fa-file-pdf me-1"></i> PDF
                                </button>
                                <button type="button" class="btn btn-outline-success btn-sm" id="printData">
                                    <i class="fas fa-print me-1"></i> Cetak
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover data-table">
                                    <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>Tanggal</th>
                                            <th>Jenis</th>
                                            <th>Nomor</th>
                                            <th>Pengirim/Penerima</th>
                                            <th>Perihal</th>
                                            <th>Kategori</th>
                                            <th>Prioritas</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="dataSuratTable">
                                        <tr>
                                            <td colspan="9" class="text-center">Tidak ada data</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <div class="fw-bold" id="paginationInfo">
                                    Menampilkan 0 dari 0 data
                                </div>
                                <nav>
                                    <ul class="pagination pagination-sm" id="pagination">
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" tabindex="-1">Sebelumnya</a>
                                        </li>
                                        <li class="page-item active">
                                            <a class="page-link" href="#">1</a>
                                        </li>
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#">Selanjutnya</a>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Arsip Surat Section -->
                <div class="content-section d-none" id="arsipSurat">
                    <h3 class="section-title">Arsip Surat</h3>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> Fitur ini memungkinkan Anda untuk mengarsipkan surat yang sudah tidak aktif. Surat yang diarsipkan tidak akan muncul di data surat utama.
                    </div>
                    
                    <div class="card">
                        <div class="card-header d-flex justify-content-between align-items-center">
                            <div>
                                <i class="fas fa-archive me-2"></i> Daftar Surat Terarsip
                            </div>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-outline-primary btn-sm" id="exportArsipExcel">
                                    <i class="fas fa-file-excel me-1"></i> Excel
                                </button>
                                <button type="button" class="btn btn-outline-danger btn-sm" id="exportArsipPDF">
                                    <i class="fas fa-file-pdf me-1"></i> PDF
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover data-table">
                                    <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>Tanggal</th>
                                            <th>Jenis</th>
                                            <th>Nomor</th>
                                            <th>Pengirim/Penerima</th>
                                            <th>Perihal</th>
                                            <th>Kategori</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="arsipSuratTable">
                                        <tr>
                                            <td colspan="8" class="text-center">Tidak ada data arsip</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Laporan Section -->
                <div class="content-section d-none" id="laporan">
                    <h3 class="section-title">Laporan</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-chart-bar me-2"></i> Statistik Surat
                                </div>
                                <div class="card-body">
                                    <canvas id="reportChart" height="250"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-filter me-2"></i> Filter Laporan
                                </div>
                                <div class="card-body">
                                    <form id="reportFilterForm">
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label" for="reportStartDate">
                                                    <i class="fas fa-calendar"></i> Tanggal Mulai
                                                </label>
                                                <input type="date" class="form-control" id="reportStartDate">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label" for="reportEndDate">
                                                    <i class="fas fa-calendar"></i> Tanggal Akhir
                                                </label>
                                                <input type="date" class="form-control" id="reportEndDate">
                                            </div>
                                        </div>
                                        
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <label class="form-label" for="reportJenis">
                                                    <i class="fas fa-envelope"></i> Jenis Surat
                                                </label>
                                                <select class="form-select" id="reportJenis">
                                                    <option value="">Semua Jenis</option>
                                                    <option value="masuk">Surat Masuk</option>
                                                    <option value="keluar">Surat Keluar</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label" for="reportKategori">
                                                    <i class="fas fa-tag"></i> Kategori
                                                </label>
                                                <select class="form-select" id="reportKategori">
                                                    <option value="">Semua Kategori</option>
                                                    <option value="pemerintah">Pemerintah</option>
                                                    <option value="perusahaan">Perusahaan</option>
                                                    <option value="lembaga">Lembaga</option>
                                                    <option value="opd">OPD</option>
                                                    <option value="upt">UPT</option>
                                                    <option value="perorangan">Perorangan</option>
                                                    <option value="lainnya">Lainnya</option>
                                                </select>
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-primary">
                                                    <i class="fas fa-filter me-2"></i> Terapkan Filter
                                                </button>
                                                <button type="button" class="btn btn-success" id="generateReport">
                                                    <i class="fas fa-file-export me-2"></i> Generate Laporan
                                                </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header d-flex justify-content-between align-items-center">
                                    <div>
                                        <i class="fas fa-table me-2"></i> Data Laporan
                                    </div>
                                    <div class="btn-group" role="group">
                                        <button type="button" class="btn btn-outline-primary btn-sm" id="exportReportExcel">
                                            <i class="fas fa-file-excel me-1"></i> Excel
                                        </button>
                                        <button type="button" class="btn btn-outline-danger btn-sm" id="exportReportPDF">
                                            <i class="fas fa-file-pdf me-1"></i> PDF
                                        </button>
                                        <button type="button" class="btn btn-outline-success btn-sm" id="printReport">
                                            <i class="fas fa-print me-1"></i> Cetak
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover data-table">
                                            <thead>
                                                <tr>
                                                    <th>No</th>
                                                    <th>Tanggal</th>
                                                    <th>Jenis</th>
                                                    <th>Nomor</th>
                                                    <th>Pengirim/Penerima</th>
                                                    <th>Perihal</th>
                                                    <th>Kategori</th>
                                                    <th>Prioritas</th>
                                                </tr>
                                            </thead>
                                            <tbody id="reportTable">
                                                <tr>
                                                    <td colspan="8" class="text-center">Gunakan filter untuk menampilkan data laporan</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Backup & Restore Section -->
                <div class="content-section d-none" id="backupRestore">
                    <h3 class="section-title">Backup & Restore Data</h3>
                    
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i> Lakukan backup data secara berkala untuk mencegah kehilangan data. Data akan disimpan dalam format JSON.
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-download me-2"></i> Download Data
                                </div>
                                <div class="card-body">
                                    <p>Download seluruh data surat ke file reload.js. File ini berisi data terenkripsi dan dapat digunakan untuk reload data di kemudian hari.</p>
                                    
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-primary" type="button" id="downloadData">
                                            <i class="fas fa-file-download me-2"></i> Download Data (reload.js)
                                        </button>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <label class="form-label" for="backupNotes">
                                            <i class="fas fa-sticky-note me-2"></i> Catatan Backup
                                        </label>
                                        <textarea class="form-control" id="backupNotes" rows="2" placeholder="Tambahkan catatan untuk backup ini (opsional)"></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-upload me-2"></i> Restore Data
                                </div>
                                <div class="card-body">
                                    <p>Restore data dari file backup JSON. Pastikan file backup yang digunakan berasal dari sistem ini.</p>
                                    
                                    <div class="mb-3">
                                        <label class="form-label" for="restoreFile">
                                            <i class="fas fa-file-upload me-2"></i> Pilih File Backup
                                        </label>
                                        <input class="form-control" type="file" id="restoreFile" accept=".json">
                                        <div class="error-message" id="restoreFileError">File harus berupa JSON yang valid</div>
                                    </div>
                                    
                                    <div class="d-grid gap-2">
                                        <button class="btn btn-success" type="button" id="restoreData" disabled>
                                            <i class="fas fa-file-upload me-2"></i> Restore Data
                                        </button>
                                    </div>
                                    
                                    <div class="form-check mt-3">
                                        <input class="form-check-input" type="checkbox" id="overwriteData">
                                        <label class="form-check-label" for="overwriteData">
                                            Timpa data yang sudah ada
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-history me-2"></i> Riwayat Backup
                                </div>
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <table class="table table-hover data-table">
                                            <thead>
                                                <tr>
                                                    <th>No</th>
                                                    <th>Tanggal Backup</th>
                                                    <th>Jumlah Data</th>
                                                    <th>Catatan</th>
                                                    <th>Aksi</th>
                                                </tr>
                                            </thead>
                                            <tbody id="backupHistory">
                                                <tr>
                                                    <td colspan="5" class="text-center">Belum ada riwayat backup</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Pengaturan Section -->
                <div class="content-section d-none" id="pengaturan">
                    <h3 class="section-title">Pengaturan Aplikasi</h3>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-cog me-2"></i> Pengaturan Umum
                                </div>
                                <div class="card-body">
                                    <form id="generalSettingsForm">
                                        <div class="mb-3">
                                            <label class="form-label" for="appName">
                                                <i class="fas fa-signature me-2"></i> Nama Aplikasi
                                            </label>
                                            <input type="text" class="form-control" id="appName" value="SISMAT">
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label" for="itemsPerPage">
                                                <i class="fas fa-list-ol me-2"></i> Item Per Halaman
                                            </label>
                                            <select class="form-select" id="itemsPerPage">
                                                <option value="50">50 Item</option>
                                                <option value="250">250 Item</option>
                                                <option value="500">500 Item</option>
                                                <option value="10000" selected>10000 Item</option>
                                            </select>
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label" for="dateFormat">
                                                <i class="fas fa-calendar-alt me-2"></i> Format Tanggal
                                            </label>
                                            <select class="form-select" id="dateFormat">
                                                <option value="id-ID" selected>DD/MM/YYYY</option>
                                                <option value="en-US">MM/DD/YYYY</option>
                                                <option value="en-GB">YYYY/MM/DD</option>
                                            </select>
                                        </div>
                                        
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="notificationsEnabled" checked>
                                            <label class="form-check-label" for="notificationsEnabled">
                                                Aktifkan Notifikasi
                                            </label>
                                        </div>
                                        
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="autoBackupEnabled">
                                            <label class="form-check-label" for="autoBackupEnabled">
                                                Backup Otomatis (Mingguan)
                                            </label>
                                        </div>
                                        
                                        <div class="d-grid gap-2">
                                            <button type="submit" class="btn btn-primary">
                                                <i class="fas fa-save me-2"></i> Simpan Pengaturan
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-6">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-shield-alt me-2"></i> Keamanan
                                </div>
                                <div class="card-body">
                                    <form id="securitySettingsForm">
                                        <div class="mb-3">
                                            <label class="form-label" for="currentPassword">
                                                <i class="fas fa-lock me-2"></i> Kata Sandi Saat Ini
                                            </label>
                                            <input type="password" class="form-control" id="currentPassword">
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label" for="newPassword">
                                                <i class="fas fa-key me-2"></i> Kata Sandi Baru
                                            </label>
                                            <input type="password" class="form-control" id="newPassword">
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label class="form-label" for="confirmPassword">
                                                <i class="fas fa-key me-2"></i> Konfirmasi Kata Sandi Baru
                                            </label>
                                            <input type="password" class="form-control" id="confirmPassword">
                                        </div>
                                        
                                        <div class="d-grid gap-2">
                                            <button type="submit" class="btn btn-primary">
                                                <i class="fas fa-sync-alt me-2"></i> Perbarui Kata Sandi
                                            </button>
                                        </div>
                                    </form>
                                    
                                    <hr>
                                    
                                    <h6 class="mb-3">Kode Validasi</h6>
                                    <div class="kode-validasi-container">
                                        <div class="kode-validasi-input">
                                            <input type="text" class="form-control" id="validationCode" placeholder="Kode validasi saat ini" readonly>
                                        </div>
                                        <button class="btn btn-warning btn-generate-kode" id="generateValidationCode">
                                            <i class="fas fa-sync me-1"></i> Generate Baru
                                        </button>
                                    </div>
                                    <div class="form-text">
                                        Kode ini digunakan untuk mengakses aplikasi. Simpan dengan aman.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header">
                                    <i class="fas fa-info-circle me-2"></i> Informasi Aplikasi
                                </div>
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-md-6">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Versi Aplikasi
                                                    <span class="badge bg-primary rounded-pill">v2.2.0</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Jumlah Data Surat
                                                    <span class="badge bg-primary rounded-pill" id="settingsTotalSurat">0</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Data Terakhir Diupdate
                                                    <span class="badge bg-primary rounded-pill" id="lastUpdated">-</span>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <ul class="list-group list-group-flush">
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Browser
                                                    <span class="badge bg-info rounded-pill" id="browserInfo">-</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Local Storage
                                                    <span class="badge bg-info rounded-pill" id="storageInfo">-</span>
                                                </li>
                                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                                    Status
                                                    <span class="badge bg-success rounded-pill" id="appStatus">Aktif</span>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    
                                    <div class="d-grid gap-2 mt-4">
                                        <button class="btn btn-outline-danger" type="button" id="resetAppBtn">
                                            <i class="fas fa-trash-alt me-2"></i> Reset Aplikasi (Hapus Semua Data)
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Developer Info Section -->
                <div class="content-section d-none" id="developerInfo">
                    <h3 class="section-title">Developer Information</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <i class="fas fa-code me-2"></i> Informasi Pengembang
                        </div>
                        <div class="card-body">
                            <div class="developer-info">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="developer-card">
                                            <div class="developer-logo mb-3">
                                                <i class="fas fa-fish fa-3x text-primary"></i>
                                            </div>
                                            <h5>Dinas Perikanan Situbondo</h5>
                                            <p class="text-muted">Pengembang Sistem Manajemen Surat</p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="developer-contact">
                                            <h6 class="mb-3">Kontak & Informasi</h6>
                                            <div class="contact-item mb-3">
                                                <i class="fas fa-globe me-2 text-primary"></i>
                                                <a href="https://www.dinasperikanansitubondo.com" target="_blank" class="text-decoration-none">
                                                    www.dinasperikanansitubondo.com
                                                </a>
                                            </div>
                                            <div class="contact-item mb-3">
                                                <i class="fas fa-envelope me-2 text-primary"></i>
                                                <a href="mailto:info@dinasperikanansitubondo.com" class="text-decoration-none">
                                                    info@dinasperikanansitubondo.com
                                                </a>
                                            </div>
                                            <div class="contact-item mb-3">
                                                <i class="fab fa-whatsapp me-2 text-success"></i>
                                                <a href="https://wa.me/6285647709114" target="_blank" class="text-decoration-none">
                                                    0856-4770-9114
                                                </a>
                                            </div>
                                            <div class="contact-item">
                                                <i class="fas fa-code-branch me-2 text-info"></i>
                                                <span>Versi Aplikasi: 2.2.0</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <hr class="my-4">
                                
                                <div class="row">
                                    <div class="col-md-12">
                                        <h6 class="mb-3">Fitur Utama SISMAT</h6>
                                        <div class="row">
                                            <div class="col-md-4">
                                                <ul class="list-group list-group-flush">
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Input Surat Masuk/Keluar
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Manajemen Arsip Surat
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Statistik dan Laporan
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="col-md-4">
                                                <ul class="list-group list-group-flush">
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Deteksi Duplikasi Data
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Backup & Restore Data
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Keamanan Multi-Level
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="col-md-4">
                                                <ul class="list-group list-group-flush">
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Login Tamu Terbatas
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Ekspor Data (Excel/PDF)
                                                    </li>
                                                    <li class="list-group-item">
                                                        <i class="fas fa-check-circle text-success me-2"></i>
                                                        Integrasi Google Drive
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="mt-4 p-3 bg-light rounded">
                                    <h6><i class="fas fa-shield-alt me-2 text-warning"></i> Kebijakan Keamanan</h6>
                                    <p class="mb-0">Aplikasi ini menggunakan enkripsi lokal untuk melindungi data sensitif. Data backup dienkripsi dengan algoritma yang aman dan hanya dapat diakses melalui aplikasi ini.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Copyright Footer -->
        <div class="copyright">
            &copy; 2025 SISMAT - Sistem Manajemen Surat. All rights reserved. | Developed by <strong>Dinas Perikanan Situbondo</strong>
        </div>
    </div>
    
    <!-- Floating Action Button -->
    <div class="floating-action-btn" id="fabButton">
        <i class="fas fa-plus"></i>
    </div>
    
    <!-- Notification Toast -->
    <div class="toast notification-toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="true" data-bs-delay="5000">
        <div class="toast-header">
            <i class="fas fa-bell me-2 text-primary"></i>
            <strong class="me-auto">SISMAT</strong>
            <small>Just now</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            Operasi berhasil dilakukan.
        </div>
    </div>
    
    <!-- Modals -->
    <div class="modal fade" id="viewModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Detail Surat</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="viewModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                    <button type="button" class="btn btn-primary" id="printSingleData">
                        <i class="fas fa-print me-1"></i> Cetak
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="editModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Data Surat</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="editModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="saveEditData">Simpan Perubahan</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="confirmationModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Konfirmasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="confirmationModalBody">
                    Apakah Anda yakin ingin menghapus data ini?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-danger" id="confirmAction">Ya, Hapus</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade welcome-modal" id="welcomeModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="welcome-header">
                    <div class="welcome-icon">
                        <i class="fas fa-mail-bulk"></i>
                    </div>
                    <h5 class="modal-title">Selamat Datang di SISMAT</h5>
                </div>
                <div class="welcome-body">
                    <p>Sistem Manajemen Surat untuk membantu Anda mengelola surat masuk dan keluar dengan lebih efisien.</p>
                    <div class="mt-4">
                        <h6>Fitur Utama:</h6>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Input dan kelola data surat</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Arsip surat terorganisir</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Laporan dan statistik</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Backup dan restore data</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Login tamu dengan akses terbatas</li>
                            <li class="list-group-item"><i class="fas fa-check-circle text-success me-2"></i> Deteksi duplikasi nomor surat</li>
                        </ul>
                    </div>
                </div>
                <div class="welcome-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
                        Mulai Menggunakan
                    </button>
                    <div class="countdown-timer mt-2">
                        Modal akan tertutup otomatis dalam <span id="welcomeCountdown">5</span> detik
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade link-modal" id="linkModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tambah Link Google Drive</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="linkTitle" class="form-label">Judul Link</label>
                        <input type="text" class="form-control" id="linkTitle" placeholder="Masukkan judul link">
                    </div>
                    <div class="mb-3">
                        <label for="linkUrl" class="form-label">URL Google Drive</label>
                        <input type="url" class="form-control" id="linkUrl" placeholder="https://drive.google.com/...">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="saveLink">Simpan</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Reload Data Modal -->
    <div class="modal fade" id="reloadModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-sync-alt me-2"></i> Reload Data dari Backup</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i> Fitur ini memungkinkan Anda untuk memuat data dari file backup terenkripsi SISMAT.
                    </div>
                    
                    <div class="reload-instructions">
                        <h6>Petunjuk Penggunaan:</h6>
                        <ol>
                            <li>Buka file hasil backup Anda (file reload.js hasil download).</li>
                            <li>Buka file tersebut dengan Notepad/Text Editor, lalu copy isinya (string panjang terenkripsi).</li>
                            <li>Paste di antara tanda petik dua ("...") pada area di bawah ini.</li>
                            <li>Pastikan tidak ada spasi atau baris baru (enter) yang terputus di tengah string.</li>
                        </ol>
                        
                        <div class="mb-3">
                            <label for="encryptedData" class="form-label">Data Backup Terenkripsi:</label>
                            <textarea class="form-control" id="encryptedData" rows="6" placeholder="Tempel string terenkripsi dari file backup di sini..."></textarea>
                            <div class="form-text">Contoh: window.SISMAT_BACKUP_ENCRYPTED = "eyJkYXRhIjpbeyJpZCI6IjE3M..."</div>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="mergeDataCheck">
                            <label class="form-check-label" for="mergeDataCheck">
                                Gabungkan dengan data yang sudah ada (data lama tidak akan terhapus)
                            </label>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="markDuplicatesCheck" checked>
                            <label class="form-check-label" for="markDuplicatesCheck">
                                Tandai data duplikat dengan warna merah
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="processReloadData">
                        <i class="fas fa-sync me-2"></i> Proses Reload Data
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="reloadResultModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Hasil Reload Data</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="reloadResultBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Tutup</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Reset App Password Modal -->
    <div class="modal fade" id="resetPasswordModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-shield-alt me-2"></i> Konfirmasi Reset Aplikasi</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>PERINGATAN!</strong> Reset aplikasi akan menghapus SEMUA data secara permanen. Tindakan ini tidak dapat dibatalkan.
                    </div>
                    
                    <div class="mb-3">
                        <label for="resetSecurityCode" class="form-label">Masukkan Kode Keamanan:</label>
                        <input type="password" class="form-control" id="resetSecurityCode" placeholder="Masukkan kode keamanan untuk reset">
                        <div class="form-text">Kode keamanan: 999999999</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-danger" id="confirmResetApp">Reset Aplikasi</button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Script Dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Main Script -->
    <script src="script.js"></script>
</body>
</html>
